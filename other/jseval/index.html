<!doctype html>
<html>
<head>
<title>jseval</title>
<script src="https://code.jquery.com/jquery-1.9.1.js"></script>
<script>
window.evalAll=function(e){document.querySelector('#ta2').value = '' + eval(document.querySelector('#ta1').value);};
window.evalSelected=function(e){document.querySelector('#ta2').value = '' + eval(document.querySelector('#ta1').value).substring(document.querySelector('#ta1').selectionStart,document.querySelector('#ta1').selectionEnd);};
//function(e){t.value.substring( t.selectionStart, t.selectionEnd)};
</script>
<style>
.d1{padding:0px;margin:0px;}
.d1>div{margin:1em;padding:1em;background:rgba(200,200,200,.5);width:100%;}
.pb,.pb button{text-align:center;vertical-align:middle;margin:.5em;padding:.5em;}
.d1 textarea{display:block;min-height:100px;}
</style>
</head>
<body>
<div class="d1">
  <div>
    <textarea class="ein" id="ta1" title="input">
      (
        function()
        {
          return "rval";
        }
      )()
    </textarea>
  </div>
  <div>
    <button class="pb" type="button" onclick="evalAll(this);">eval all</button>
    <button class="pb" type="button" onclick="evalSelected(this);">eval selected</button>
  </div>
  <div>
    <textarea class="eout" id="ta2" title="output"></textarea>
  </div>
</div>
</body>
</html>
